---
import PageJournal from "../../layouts/PageJournal.astro";

import { type CollectionEntry, getCollection, render } from "astro:content";

export async function getStaticPaths() {
    const journals = await getCollection("journals");

    return journals.map((journal) => ({
        params: { id: journal.id },
        props: { journal },
    }));
}

type Props = {
    journal: CollectionEntry<"journals">;
};

const { journal } = Astro.props;
const { Content } = await render(journal);
---

<PageJournal frontmatter={journal.data}>
    <Content />
</PageJournal>
