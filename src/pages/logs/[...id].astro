---
import PageLog from "../../layouts/PageLog.astro";

import { type CollectionEntry, getCollection, render } from "astro:content";

export async function getStaticPaths() {
    const logs = await getCollection("logs");

    return logs.map((log) => ({
        params: { id: log.id },
        props: { log },
    }));
}

type Props = {
    log: CollectionEntry<"logs">;
};

const { log } = Astro.props;
const { Content } = await render(log);
---

<PageLog frontmatter={log.data}>
    <Content />
</PageLog>
