---
// layout import
import BaseLayout from "../../layouts/BaseLayout.astro";

import { getCollection } from "astro:content";

const photos = (await getCollection("photos")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const { title = "Photos", description = "" } = Astro.props;
---

<BaseLayout title={title} description={description}>
    <section class="container-full @container">
        <div
            class="columns-1 gap-4 @lg:columns-2 @3xl:columns-3 @7xl:columns-4"
        >
            {
                photos.map((photo) => (
                    <div class="group relative mb-4 flex break-inside-avoid flex-col items-end gap-y-1 overflow-hidden shadow-lg">
                        <img
                            src={photo.data.url}
                            alt={photo.data.description}
                            class="object-contain"
                        />
                        <div class="absolute -bottom-16 flex h-8 w-full items-center justify-end bg-neutral-900/75 px-4 opacity-0 transition-all duration-300 ease-in-out group-hover:-translate-y-16 group-hover:opacity-100">
                            <span class="text-sm text-neutral-200">
                                {photo.data.title}
                            </span>
                        </div>
                        {/* <span class="px-2 text-center text-sm text-neutral-500">
                            {photo.data.title}
                        </span> */}
                    </div>
                ))
            }
        </div>
    </section>
</BaseLayout>
